<html>
    <head>
        <title>Module Federation Experiments</title>
        <script type="module">
            const sharedScope = {
                uuid: {
                    '1.0.0': {
                        get: () => () => Promise.resolve({ v4: { mock: 'uuid'} }),
                    }
                },
            };
            
            globalThis.sharedScope = sharedScope;
            
            const basePath = window.location.href.slice(0, window.location.href.lastIndexOf('/'));
            const remoteEntryUrl = `${basePath}/remoteEntry.js`;
            const container = await import(remoteEntryUrl);
            
            console.log("doing container.init()");
            await container.init(sharedScope);
            console.log("shared scope: ", JSON.stringify(sharedScope, null, 2));
            
            console.log("doing container.get('./expose-shared-eager')");
            const exposedSharedEager = (await container.get('./expose-shared-eager'))();
            console.log("exposed module ./expose-shared-eager", exposedSharedEager);
        </script>
    </head>
    <body></body>
</html>